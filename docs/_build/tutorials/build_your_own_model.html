

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Building a custom model &mdash; chaotic neural v 0.0.2 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script crossorigin="anonymous" integrity="sha256-Ae2Vz/4ePdIu6ZyI/5ZGsYnb+m0JlOmKPjt6XZ9JJkA=" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.4/require.min.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="Generate plots corresponding to where recent (mid-2020+) research on a given topic / related to a given paper has appeared on ArXiv." href="arxiv_scraper_location_plots.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> chaotic neural
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">General Usage:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../usage/installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage/dependencies.html">Dependencies</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage/features.html">API documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../usage/features.html#module-chaotic_neural"><code class="xref py py-mod docutils literal notranslate"><span class="pre">chaotic_neural</span></code></a></li>
</ul>
<p class="caption"><span class="caption-text">Tutorials:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="basic_usage.html">Basic usage of the <code class="docutils literal notranslate"><span class="pre">chaotic_neutral</span></code> package</a></li>
<li class="toctree-l1"><a class="reference internal" href="visualize_trained_models.html">Visualizing a trained model</a></li>
<li class="toctree-l1"><a class="reference internal" href="arxiv_scraper_location_plots.html">Generate plots corresponding to where recent (mid-2020+) research on a given topic / related to a given paper has appeared on ArXiv.</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Building a custom model</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#1.-Running-a-simple-ArXiv-query-and-printing-the-results">1. Running a simple ArXiv query and printing the results</a></li>
<li class="toctree-l2"><a class="reference internal" href="#2.-Next,-we-want-to-generalize-this-to-a-large-set-of-feeds-corresponding-to-a-particular-topic">2. Next, we want to generalize this to a large set of feeds corresponding to a particular topic</a></li>
<li class="toctree-l2"><a class="reference internal" href="#3.-Training-the-model">3. Training the model</a></li>
<li class="toctree-l2"><a class="reference internal" href="#4.-Loading-the-trained-model-and-checking-that-it-works!">4. Loading the trained model and checking that it works!</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">chaotic neural</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Building a custom model</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/tutorials/build_your_own_model.ipynb" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  
<style>
/* CSS for nbsphinx extension */

/* remove conflicting styling from Sphinx themes */
div.nbinput.container,
div.nbinput.container div.prompt,
div.nbinput.container div.input_area,
div.nbinput.container div[class*=highlight],
div.nbinput.container div[class*=highlight] pre,
div.nboutput.container,
div.nboutput.container div.prompt,
div.nboutput.container div.output_area,
div.nboutput.container div[class*=highlight],
div.nboutput.container div[class*=highlight] pre {
    background: none;
    border: none;
    padding: 0 0;
    margin: 0;
    box-shadow: none;
}

/* avoid gaps between output lines */
div.nboutput.container div[class*=highlight] pre {
    line-height: normal;
}

/* input/output containers */
div.nbinput.container,
div.nboutput.container {
    display: -webkit-flex;
    display: flex;
    align-items: flex-start;
    margin: 0;
    width: 100%;
}
@media (max-width: 540px) {
    div.nbinput.container,
    div.nboutput.container {
        flex-direction: column;
    }
}

/* input container */
div.nbinput.container {
    padding-top: 5px;
}

/* last container */
div.nblast.container {
    padding-bottom: 5px;
}

/* input prompt */
div.nbinput.container div.prompt pre {
    color: #307FC1;
}

/* output prompt */
div.nboutput.container div.prompt pre {
    color: #BF5B3D;
}

/* all prompts */
div.nbinput.container div.prompt,
div.nboutput.container div.prompt {
    min-width: 5ex;
    padding-top: 0.4em;
    padding-right: 0.4em;
    text-align: right;
    flex: 0;
}
@media (max-width: 540px) {
    div.nbinput.container div.prompt,
    div.nboutput.container div.prompt {
        text-align: left;
        padding: 0.4em;
    }
    div.nboutput.container div.prompt.empty {
        padding: 0;
    }
}

/* disable scrollbars on prompts */
div.nbinput.container div.prompt pre,
div.nboutput.container div.prompt pre {
    overflow: hidden;
}

/* input/output area */
div.nbinput.container div.input_area,
div.nboutput.container div.output_area {
    padding: 0.4em;
    -webkit-flex: 1;
    flex: 1;
    overflow: auto;
}
@media (max-width: 540px) {
    div.nbinput.container div.input_area,
    div.nboutput.container div.output_area {
        width: 100%;
    }
}

/* input area */
div.nbinput.container div.input_area {
    border: 1px solid #e0e0e0;
    border-radius: 2px;
    background: #f5f5f5;
}

/* override MathJax center alignment in output cells */
div.nboutput.container div[class*=MathJax] {
    text-align: left !important;
}

/* override sphinx.ext.imgmath center alignment in output cells */
div.nboutput.container div.math p {
    text-align: left;
}

/* standard error */
div.nboutput.container div.output_area.stderr {
    background: #fdd;
}

/* ANSI colors */
.ansi-black-fg { color: #3E424D; }
.ansi-black-bg { background-color: #3E424D; }
.ansi-black-intense-fg { color: #282C36; }
.ansi-black-intense-bg { background-color: #282C36; }
.ansi-red-fg { color: #E75C58; }
.ansi-red-bg { background-color: #E75C58; }
.ansi-red-intense-fg { color: #B22B31; }
.ansi-red-intense-bg { background-color: #B22B31; }
.ansi-green-fg { color: #00A250; }
.ansi-green-bg { background-color: #00A250; }
.ansi-green-intense-fg { color: #007427; }
.ansi-green-intense-bg { background-color: #007427; }
.ansi-yellow-fg { color: #DDB62B; }
.ansi-yellow-bg { background-color: #DDB62B; }
.ansi-yellow-intense-fg { color: #B27D12; }
.ansi-yellow-intense-bg { background-color: #B27D12; }
.ansi-blue-fg { color: #208FFB; }
.ansi-blue-bg { background-color: #208FFB; }
.ansi-blue-intense-fg { color: #0065CA; }
.ansi-blue-intense-bg { background-color: #0065CA; }
.ansi-magenta-fg { color: #D160C4; }
.ansi-magenta-bg { background-color: #D160C4; }
.ansi-magenta-intense-fg { color: #A03196; }
.ansi-magenta-intense-bg { background-color: #A03196; }
.ansi-cyan-fg { color: #60C6C8; }
.ansi-cyan-bg { background-color: #60C6C8; }
.ansi-cyan-intense-fg { color: #258F8F; }
.ansi-cyan-intense-bg { background-color: #258F8F; }
.ansi-white-fg { color: #C5C1B4; }
.ansi-white-bg { background-color: #C5C1B4; }
.ansi-white-intense-fg { color: #A1A6B2; }
.ansi-white-intense-bg { background-color: #A1A6B2; }

.ansi-default-inverse-fg { color: #FFFFFF; }
.ansi-default-inverse-bg { background-color: #000000; }

.ansi-bold { font-weight: bold; }
.ansi-underline { text-decoration: underline; }

/* Some additional styling taken form the Jupyter notebook CSS */
div.rendered_html table {
  border: none;
  border-collapse: collapse;
  border-spacing: 0;
  color: black;
  font-size: 12px;
  table-layout: fixed;
}
div.rendered_html thead {
  border-bottom: 1px solid black;
  vertical-align: bottom;
}
div.rendered_html tr,
div.rendered_html th,
div.rendered_html td {
  text-align: right;
  vertical-align: middle;
  padding: 0.5em 0.5em;
  line-height: normal;
  white-space: normal;
  max-width: none;
  border: none;
}
div.rendered_html th {
  font-weight: bold;
}
div.rendered_html tbody tr:nth-child(odd) {
  background: #f5f5f5;
}
div.rendered_html tbody tr:hover {
  background: rgba(66, 165, 245, 0.2);
}

/* CSS overrides for sphinx_rtd_theme */

/* 24px margin */
.nbinput.nblast.container,
.nboutput.nblast.container {
    margin-bottom: 19px;  /* padding has already 5px */
}

/* ... except between code cells! */
.nblast.container + .nbinput.container {
    margin-top: -19px;
}

.admonition > p:before {
    margin-right: 4px;  /* make room for the exclamation icon */
}

/* Fix math alignment, see https://github.com/rtfd/sphinx_rtd_theme/pull/686 */
.math {
    text-align: unset;
}
</style>
<div class="section" id="Building-a-custom-model">
<h1>Building a custom model<a class="headerlink" href="#Building-a-custom-model" title="Permalink to this headline">¶</a></h1>
<p>Depending on your research, you might want to build a custom model to do your literature surveys in. This tutorial goes through the steps needed to do this from scratch.</p>
<p><strong>Note:</strong> You do not need to do this if you’re just using the pre-trained model. This is only for the use-case where you’d like to build a model of your own!</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[1]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">chaotic_neural</span> <span class="k">as</span> <span class="nn">cn</span>

<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Running chaotic_neural version:&#39;</span><span class="p">,</span> <span class="n">cn</span><span class="o">.</span><span class="n">__version__</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Running gensim version:&#39;</span><span class="p">,</span> <span class="n">cn</span><span class="o">.</span><span class="n">gensim</span><span class="o">.</span><span class="n">__version__</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Running numpy version:&#39;</span><span class="p">,</span> <span class="n">cn</span><span class="o">.</span><span class="n">np</span><span class="o">.</span><span class="n">__version__</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Running chaotic_neural version: 0.0.3
Running gensim version: 4.0.1
Running numpy version: 1.20.3
</pre></div></div>
</div>
<div class="section" id="1.-Running-a-simple-ArXiv-query-and-printing-the-results">
<h2>1. Running a simple ArXiv query and printing the results<a class="headerlink" href="#1.-Running-a-simple-ArXiv-query-and-printing-the-results" title="Permalink to this headline">¶</a></h2>
<p>For various queries, use the following from the ArXiv <a class="reference external" href="https://arxiv.org/help/api/user-manual#_query_interface">API</a>.</p>
<hr class="docutils" />
<table class="docutils align-default">
<colgroup>
<col style="width: 24%" />
<col style="width: 76%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>prefix</p></th>
<th class="head"><p>explanation</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>ti</p></td>
<td><p>Title</p></td>
</tr>
<tr class="row-odd"><td><p>au</p></td>
<td><p>Author</p></td>
</tr>
<tr class="row-even"><td><p>abs</p></td>
<td><p>Abstract</p></td>
</tr>
<tr class="row-odd"><td><p>co</p></td>
<td><p>Comment</p></td>
</tr>
<tr class="row-even"><td><p>jr</p></td>
<td><p>Journal Reference</p></td>
</tr>
<tr class="row-odd"><td><p>cat</p></td>
<td><p>Subject Category</p></td>
</tr>
<tr class="row-even"><td><p>rn</p></td>
<td><p>Report Number</p></td>
</tr>
<tr class="row-odd"><td><p>id</p></td>
<td><p>Id (use id_list instead)</p></td>
</tr>
<tr class="row-even"><td><p>all</p></td>
<td><p>All of the above</p></td>
</tr>
</tbody>
</table>
<p>If while running the query you get a <code class="docutils literal notranslate"><span class="pre">ConnectionResetError:</span> <span class="pre">[Errno</span> <span class="pre">104]</span> <span class="pre">Connection</span> <span class="pre">reset</span> <span class="pre">by</span> <span class="pre">peer</span></code>, it’s probably because you’ve made too many queries in too short a period of time, and might be best to wait for a while before trying again, and using a larger <code class="docutils literal notranslate"><span class="pre">delay_sec</span></code> while running the <code class="docutils literal notranslate"><span class="pre">make_feeds()</span></code> function.</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[2]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">n_papers</span> <span class="o">=</span> <span class="mi">3</span>

<span class="n">feed</span> <span class="o">=</span> <span class="n">cn</span><span class="o">.</span><span class="n">run_simple_query</span><span class="p">(</span><span class="n">search_query</span><span class="o">=</span><span class="s1">&#39;au:iyer_kartheik&#39;</span><span class="p">,</span> <span class="n">max_results</span> <span class="o">=</span> <span class="n">n_papers</span><span class="p">)</span>

<span class="n">cn</span><span class="o">.</span><span class="n">print_feed_entries</span><span class="p">(</span><span class="n">feed</span><span class="p">,</span> <span class="n">num_entries</span> <span class="o">=</span> <span class="n">n_papers</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
e-print metadata
arxiv-id: 2104.06514v1
Published: 2021-04-13T20:58:32Z
Title:  Star Formation Histories from SEDs and CMDs Agree: Evidence for
  Synchronized Star Formation in Local Volume Dwarf Galaxies over the Past 3
  Gyr
Authors:  Charlotte Olsen, Eric Gawiser, Kartheik Iyer, Kristen B. W. McQuinn, Benjamin D. Johnson, Grace Telford, Anna C. Wright, Adam Broussard, Peter Kurczynski
abs page link: http://arxiv.org/abs/2104.06514v1
pdf link: http://arxiv.org/pdf/2104.06514v1
Journal reference: No journal ref found
Comments: Accepted for publication in ApJ, 25 pages, 18 figures, 3 tables


 --------------


e-print metadata
arxiv-id: 2010.01132v1
Published: 2020-10-02T18:00:00Z
Title:  IQ Collaboratory II: The Quiescent Fraction of Isolated, Low Mass
  Galaxies Across Simulations and Observations
Authors:  Claire M Dickey, Tjitske K Starkenburg, Marla Geha, ChangHoon Hahn, Daniel Anglés-Alcázar, Ena Choi, Romeel Davé, Shy Genel, Kartheik G Iyer, Ariyeh H Maller, Nir Mandelker, Rachel S Somerville, L Y Aaron Yung
abs page link: http://arxiv.org/abs/2010.01132v1
pdf link: http://arxiv.org/pdf/2010.01132v1
Journal reference: No journal ref found
Comments: 19 pages, 8 figures. Figure 4 presents the main result. Code used in
  this work may be accessed at github.com/IQcollaboratory/orchard. Submitted to
  ApJ


 --------------


e-print metadata
arxiv-id: 2007.07916v1
Published: 2020-07-15T18:00:49Z
Title:  The Diversity and Variability of Star Formation Histories in Models of
  Galaxy Evolution
Authors:  Kartheik G. Iyer, Sandro Tacchella, Shy Genel, Christopher C. Hayward, Lars Hernquist, Alyson M. Brooks, Neven Caplar, Romeel Davé, Benedikt Diemer, John C. Forbes, Eric Gawiser, Rachel S. Somerville, Tjitske K. Starkenburg
abs page link: http://arxiv.org/abs/2007.07916v1
pdf link: http://arxiv.org/pdf/2007.07916v1
Journal reference: No journal ref found
Comments: 31 pages, 17 figures (+ appendix). Resubmitted to MNRAS after
  responding to referee&#39;s comments. Comments are welcome!


 --------------


</pre></div></div>
</div>
</div>
<div class="section" id="2.-Next,-we-want-to-generalize-this-to-a-large-set-of-feeds-corresponding-to-a-particular-topic">
<h2>2. Next, we want to generalize this to a large set of feeds corresponding to a particular topic<a class="headerlink" href="#2.-Next,-we-want-to-generalize-this-to-a-large-set-of-feeds-corresponding-to-a-particular-topic" title="Permalink to this headline">¶</a></h2>
<p>This can be done using the <code class="docutils literal notranslate"><span class="pre">make_feeds()</span></code> and <code class="docutils literal notranslate"><span class="pre">read_corpus()</span></code> functions. Here we’ll create a corpus consisting of the 30,000 most recent ‘astrophysics of galaxies’ <code class="docutils literal notranslate"><span class="pre">(astro-ph.GA)</span></code> category of papers in the ArXiv (specified by the <code class="docutils literal notranslate"><span class="pre">max_setsize</span></code> argument). If you’d like to try this with a different category, please check <a class="reference external" href="https://arxiv.org/">arxiv.org</a> for the full list. If there aren’t as many papers as specified by <code class="docutils literal notranslate"><span class="pre">max_setsize</span></code>, it’ll get as many as it can get. For better
processing, the queries are broken down into chunk (specified by the <code class="docutils literal notranslate"><span class="pre">chunksize</span></code> argument).</p>
<p>Note for scraping large amounts of data from the API <a class="reference external" href="https://arxiv.org/help/api/user-manual">user manual</a>:</p>
<blockquote>
<div><p>In cases where the API needs to be called multiple times in a row, we encourage you to play nice and incorporate a 3 second delay in your code. The <a class="reference external" href="https://arxiv.org/help/api/user-manual#detailed_examples">detailed examples</a> below illustrate how to do this in a variety of languages. Because of speed limitations in our implementation of the API, the maximum number of results returned from a single call (max_results) is limited to 30000 in slices of at most 2000 at a time, using the
max_results and start query parameters. For example to retrieve matches 6001-8000: <a class="reference external" href="http://export.arxiv.org/api/query?search_query=all:electron&amp;start=6000&amp;max_results=8000">http://export.arxiv.org/api/query?search_query=all:electron&amp;start=6000&amp;max_results=8000</a></p>
</div></blockquote>
<blockquote>
<div><p>Large result sets put considerable load on the server and also take a long time to render. We recommend to refine queries which return more than 1,000 results, or at least request smaller slices. For bulk metadata harvesting or set information, etc., the <a class="reference external" href="https://arxiv.org/help/oa/index">OAI-PMH</a> interface is more suitable. A request with max_results &gt;30,000 will result in an HTTP 400 error code with appropriate explanation. A request for 30000 results will typically take a little over 2
minutes to return a response of over 15MB. Requests for fewer results are much faster and correspondingly smaller.</p>
</div></blockquote>
<hr class="docutils" />
<p><strong>Note</strong>: <code class="docutils literal notranslate"><span class="pre">bioRxiv</span></code> has a similar (although not identical) <a class="reference external" href="https://api.biorxiv.org/">API</a>, but I haven’t yet had the chance to implement it within <code class="docutils literal notranslate"><span class="pre">chaotic_neural</span></code> yet. If you are interested in helping set this up, please get in touch with me or open an issue on GitHub!</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[3]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">bigquery</span> <span class="o">=</span> <span class="s1">&#39;cat:astro-ph.GA&#39;</span>
<span class="n">gal_feeds</span> <span class="o">=</span> <span class="n">cn</span><span class="o">.</span><span class="n">make_feeds</span><span class="p">(</span><span class="n">arxiv_query</span> <span class="o">=</span> <span class="n">bigquery</span><span class="p">,</span> <span class="n">chunksize</span> <span class="o">=</span> <span class="mi">30</span><span class="p">,</span> <span class="n">max_setsize</span> <span class="o">=</span> <span class="mi">30000</span><span class="p">,</span> <span class="n">delay_sec</span> <span class="o">=</span> <span class="mf">0.1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
100%|██████████| 1000/1000 [15:53&lt;00:00,  1.05it/s]
</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[4]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;gal_feeds.pkl&quot;</span><span class="p">,</span> <span class="s2">&quot;wb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fp</span><span class="p">:</span>   <span class="c1">#Pickling</span>
    <span class="n">cn</span><span class="o">.</span><span class="n">pickle</span><span class="o">.</span><span class="n">dump</span><span class="p">(</span><span class="n">gal_feeds</span><span class="p">,</span> <span class="n">fp</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[5]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s2">&quot;gal_feeds.pkl&quot;</span><span class="p">,</span> <span class="s2">&quot;rb&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fp</span><span class="p">:</span>
    <span class="n">gal_feeds</span> <span class="o">=</span> <span class="n">cn</span><span class="o">.</span><span class="n">pickle</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">fp</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[6]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="c1"># Let&#39;s print the status of the feeds for recordkeeping purposes</span>

<span class="kn">from</span> <span class="nn">datetime</span> <span class="k">import</span> <span class="n">date</span>
<span class="n">bigquery</span> <span class="o">=</span> <span class="s1">&#39;cat:astro-ph.GA&#39;</span>
<span class="n">today</span> <span class="o">=</span> <span class="n">date</span><span class="o">.</span><span class="n">today</span><span class="p">()</span>
<span class="n">d2</span> <span class="o">=</span> <span class="n">today</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;%B </span><span class="si">%d</span><span class="s2">, %Y&quot;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Updated feed for query: </span><span class="se">\&quot;</span><span class="si">%s</span><span class="se">\&quot;</span><span class="s2"> with </span><span class="si">%i</span><span class="s2"> most recent feeds as of:&quot;</span> <span class="o">%</span><span class="p">(</span><span class="n">bigquery</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">gal_feeds</span><span class="p">)</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="n">gal_feeds</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">entries</span><span class="p">)),</span> <span class="n">d2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Updated feed for query: &#34;cat:astro-ph.GA&#34; with 30000 most recent feeds as of: May 23, 2021
</pre></div></div>
</div>
</div>
<div class="section" id="3.-Training-the-model">
<h2>3. Training the model<a class="headerlink" href="#3.-Training-the-model" title="Permalink to this headline">¶</a></h2>
<p>Having collected our feeds from the ArXiv (up to date as of today), we can now train our doc2vec model on the abstracts corresponding to each paper. This corresponds to using the</p>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[7]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">d2</span> <span class="o">=</span> <span class="n">today</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%d</span><span class="s2">%B%Y&quot;</span><span class="p">)</span>
<span class="n">train_start_time</span> <span class="o">=</span> <span class="n">cn</span><span class="o">.</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>

<span class="c1"># I&#39;m running the training here with 100 epochs and 12 workers (correpsonding to my machine)</span>
<span class="c1"># but you might want to change this to whatever works best for you.</span>
<span class="n">model</span><span class="p">,</span> <span class="n">train_corpus</span><span class="p">,</span> <span class="n">test_corpus</span> <span class="o">=</span> <span class="n">cn</span><span class="o">.</span><span class="n">build_and_train_model</span><span class="p">(</span><span class="n">gal_feeds</span><span class="p">,</span>
                                                            <span class="n">fname_tag</span> <span class="o">=</span> <span class="s1">&#39;astro-ph-GA-&#39;</span><span class="o">+</span><span class="n">d2</span><span class="p">,</span>
                                                            <span class="n">cn_dir</span><span class="o">=</span><span class="s1">&#39;../../chaotic_neural/&#39;</span><span class="p">,</span>
                                                            <span class="n">vector_size</span> <span class="o">=</span> <span class="mi">50</span><span class="p">,</span> <span class="n">min_count</span> <span class="o">=</span> <span class="mi">2</span><span class="p">,</span>
                                                            <span class="n">epochs</span> <span class="o">=</span> <span class="mi">100</span><span class="p">,</span> <span class="n">workers</span> <span class="o">=</span> <span class="mi">12</span><span class="p">)</span>

<span class="n">train_end_time</span> <span class="o">=</span> <span class="n">cn</span><span class="o">.</span><span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Training done. Time taken: </span><span class="si">%.2f</span><span class="s1"> mins.&#39;</span> <span class="o">%</span><span class="p">((</span><span class="n">train_end_time</span><span class="o">-</span><span class="n">train_start_time</span><span class="p">)</span><span class="o">/</span><span class="mi">60</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="nboutput docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area stderr docutils container">
<div class="highlight"><pre>
100%|██████████| 1000/1000 [00:04&lt;00:00, 229.62it/s]
100%|██████████| 1000/1000 [00:04&lt;00:00, 237.41it/s]
100%|██████████| 1000/1000 [00:00&lt;00:00, 6218.52it/s]
</pre></div></div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
Training done. Time taken: 5.11 mins.
</pre></div></div>
</div>
</div>
<div class="section" id="4.-Loading-the-trained-model-and-checking-that-it-works!">
<h2>4. Loading the trained model and checking that it works!<a class="headerlink" href="#4.-Loading-the-trained-model-and-checking-that-it-works!" title="Permalink to this headline">¶</a></h2>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[8]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">d2</span> <span class="o">=</span> <span class="n">today</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%d</span><span class="s2">%B%Y&quot;</span><span class="p">)</span>
<span class="n">modeldata</span> <span class="o">=</span> <span class="n">cn</span><span class="o">.</span><span class="n">load_trained_doc2vec_model</span><span class="p">(</span><span class="n">fname_tag</span> <span class="o">=</span> <span class="s1">&#39;astro-ph-GA-&#39;</span><span class="o">+</span><span class="n">d2</span><span class="p">,</span> <span class="n">cn_dir</span><span class="o">=</span><span class="s1">&#39;../../chaotic_neural/&#39;</span><span class="p">,)</span>
</pre></div>
</div>
</div>
<div class="nbinput docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[9]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span><span class="n">similar_papers</span> <span class="o">=</span> <span class="n">cn</span><span class="o">.</span><span class="n">list_similar_papers</span><span class="p">(</span><span class="n">modeldata</span><span class="p">,</span> <span class="s1">&#39;2007.07916&#39;</span><span class="p">,</span> <span class="n">input_type</span><span class="o">=</span><span class="s1">&#39;arxiv_id&#39;</span><span class="p">,</span> <span class="n">show_summary</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="nboutput nblast docutils container">
<div class="prompt empty docutils container">
</div>
<div class="output_area docutils container">
<div class="highlight"><pre>
ArXiv id:  2007.07916
Title: The Diversity and Variability of Star Formation Histories in Models of
  Galaxy Evolution
-----------------------------
Most similar/relevant papers:
-----------------------------
0 The Diversity and Variability of Star Formation Histories in Models of
  Galaxy Evolution  (Corrcoef: 0.99 )
Summary:------
Quenching can induce $\sim0.4-1$ dex of additional power on timescales $&gt;1$ Gyr. The dark matter accretion histories of galaxies have remarkably self-similar PSDs and are coherent with the in-situ star formation on timescales $&gt;3$ Gyr. There is considerable diversity among the different models in their (i) power due to SFR variability at a given timescale, (ii) amount of correlation with adjacent timescales (PSD slope), (iii) evolution of median PSDs with stellar mass, and (iv) presence and locations of breaks in the PSDs. The PSD framework is a useful space to study the SFHs of galaxies since model predictions vary widely.

1 A Method to Measure the Unbiased Decorrelation Timescale of the AGN
  Variable Signal from Structure Functions  (Corrcoef: 0.66 )
Summary:------
We show that the signal decorrelation timescale can be measured directly from the SF as the timescale matching the amplitude 0.795 of the flat SF part (at long timescales), and only then the measurement is independent of the ACF PE power.

2 Surrogate modelling the Baryonic Universe II: on forward modelling the
  colours of individual and populations of galaxies  (Corrcoef: 0.65 )
Summary:------
We additionally provide a model-independent fitting function capturing how the level of unresolved star formation variability translates into imprecision in predictions for galaxy colours; our fitting function can be used to determine the minimal SFH model that reproduces colours with some target precision.

3 Impact of an AGN featureless continuum on estimation of stellar
  population properties  (Corrcoef: 0.64 )
Summary:------
At the empirical AGN detection threshold $x_{\mathrm{AGN}}\simeq 0.26$ that we previously inferred in a pilot study on this subject, our results show that the neglect of a PL component in spectral fitting can lead to an overestimation by $\sim$2 dex in stellar mass and by up to $\sim$1 and $\sim$4 dex in the light- and mass-weighted mean stellar age, respectively, whereas the light- and mass-weighted mean stellar metallicity are underestimated by up to $\sim$0.3 and $\sim$0.6 dex, respectively.

4 The gas fractions of dark matter haloes hosting simulated $\sim L^\star$
  galaxies are governed by the feedback history of their black holes  (Corrcoef: 0.63 )
Summary:------
We examine the origin of scatter in the relationship between the gas fraction and mass of dark matter haloes hosting present-day $\sim L^\star$ central galaxies in the EAGLE simulations.

5 Optical variability of AGN in the PTF/iPTF survey  (Corrcoef: 0.61 )
Summary:------
We utilize both the structure function (SF) and power spectrum density (PSD) formalisms to search for links between the optical variability and the physical parameters of the accreting supermassive black holes that power the quasars.
This effect is also seen in the SF analysis of the (i)PTF data, and in a PSD analysis of quasars in the SDSS Stripe 82.

6 Reionization with galaxies and active galactic nuclei  (Corrcoef: 0.60 )
Summary:------
We explore a wide range of combinations for the escape fraction of ionizing photons (redshift-dependent, constant and scaling with stellar mass) from both star formation ($\langle f_{\rm esc}^{\rm sf} \rangle$) and AGN ($f_{\rm esc}^{\rm bh}$) to find: (i) the ionizing budget is dominated by stellar radiation from low stellar mass ($M_*&lt;10^9 {\rm M_\odot}$ ) galaxies at $z&gt;6$ with the AGN contribution (driven by $M_{bh}&gt;10^6 {\rm M_\odot}$ black holes in $M_* &gt; 10^9 {\rm M_\odot}$ galaxies) dominating at lower redshifts; (ii) AGN only contribute $10-25\%$ to the cumulative ionizing emissivity by $z=4$ for the models that match the observed reionization constraints; (iii) if the stellar mass dependence of $\langle f_{\rm esc}^{\rm sf} \rangle$ is shallower than $f_{\rm esc}^{\rm bh}$, at $z&lt;7$ a transition stellar mass exists above which AGN dominate the escaping ionizing photon production rate; (iv) the transition stellar mass decreases with decreasing redshift.

7 Building Blocks of the Milky Way&#39;s Accreted Spheroid  (Corrcoef: 0.60 )
Summary:------
Combining the Munich-Groningen semi-analytical model of galaxy formation with the high resolution Aquarius simulations of dark matter haloes, we study the assembly history of the stellar spheroids of six Milky Way-mass galaxies, focussing on building block properties such as mass, age and metallicity.

8 The origin of the $α$-enhancement of massive galaxies  (Corrcoef: 0.59 )
Summary:------
In the absence of feedback from active galactic nuclei (AGN), however, $[\alpha/\mathrm{Fe}]_{\ast}$ in $M_{\ast} &gt; 10^{10.5}$ M$_{\odot}$ galaxies is roughly constant with stellar mass and decreases with mean stellar age, extending the trends found for lower-mass galaxies in both simulations with and without AGN.

9 JINGLE -- IV. Dust, HI gas and metal scaling laws in the local Universe  (Corrcoef: 0.58 )
Summary:------
We find that these scaling laws for galaxies with $-1.0\lesssim \log M_{\text{HI}}$/$M_{\star}\lesssim0$ can be reproduced using closed-box models with high fractions (37-89$\%$) of supernova dust surviving a reverse shock, relatively low grain growth efficiencies ($\epsilon$=30-40), and long dus lifetimes (1-2\,Gyr).

</pre></div></div>
</div>
<div class="nbinput nblast docutils container">
<div class="prompt highlight-none notranslate"><div class="highlight"><pre><span></span>[ ]:
</pre></div>
</div>
<div class="input_area highlight-ipython3 notranslate"><div class="highlight"><pre>
<span></span>
</pre></div>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="arxiv_scraper_location_plots.html" class="btn btn-neutral float-left" title="Generate plots corresponding to where recent (mid-2020+) research on a given topic / related to a given paper has appeared on ArXiv." accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Kartheik Iyer

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>